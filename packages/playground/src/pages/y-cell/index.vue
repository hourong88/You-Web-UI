<template>
  <div class="demo-page-container">
    <view class="page-header">
      <view class="back-button" @click="goBack">
        <text class="back-icon">â†</text>
      </view>
      <text class="page-title">YCell å•å…ƒæ ¼</text>
    </view>

    <!-- åŸºç¡€ç”¨æ³• -->
    <div class="demo-section">
      <div class="section-title">åŸºç¡€ç”¨æ³•</div>
      <div class="y-component-display-group">
        <YCell>åŸºç¡€å•å…ƒæ ¼</YCell>
        <YCell>
          å¸¦æè¿°çš„å•å…ƒæ ¼
          <template #description>è¿™æ˜¯ä¸€ä¸ªæè¿°ä¿¡æ¯</template>
        </YCell>
      </div>
    </div>

    <!-- å¸¦å›¾æ ‡ -->
    <div class="demo-section">
      <div class="section-title">å¸¦å›¾æ ‡</div>
      <div class="y-component-display-group">
        <YCell>
          <template #icon>
            <view class="demo-icon" style="background-color: #ff6b6b">ğŸ’°</view>
          </template>
          æˆ‘çš„é’±åŒ…
        </YCell>
        <YCell>
          <template #icon>
            <view class="demo-icon" style="background-color: #4ecdc4">â­</view>
          </template>
          æœåŠ¡çª—
        </YCell>
        <YCell>
          <template #icon>
            <view class="demo-icon" style="background-color: #45b7d1">ğŸ”</view>
          </template>
          å‘ç°
          <template #extra>æ¢ç´¢å‘ç°</template>
        </YCell>
      </div>
    </div>

    <!-- å¸¦ç®­å¤´å’Œç‚¹å‡»æ•ˆæœ -->
    <div class="demo-section">
      <div class="section-title">å¸¦ç®­å¤´å’Œç‚¹å‡»æ•ˆæœ</div>
      <div class="y-component-display-group">
        <YCell arrow hover @click="handleCellClick">
          <template #icon>
            <view class="demo-icon" style="background-color: #ff9f43">ğŸ›ï¸</view>
          </template>
          æˆ‘çš„åº—é“º
          <template #extra>è¿›å…¥åº—é“º</template>
        </YCell>
        <YCell arrow hover @click="handleCellClick">
          å…³äº
          <template #extra>Thor UI</template>
        </YCell>
      </div>
    </div>

    <!-- æ¶ˆæ¯åˆ—è¡¨ -->
    <div class="demo-section">
      <div class="section-title">æ¶ˆæ¯åˆ—è¡¨</div>
      <div class="y-component-display-group">
        <YCell>
          <template #icon>
            <view class="demo-avatar">
              <img src="https://via.placeholder.com/40x40/ff6b6b/ffffff?text=å‘¼" alt="å¤´åƒ" />
            </view>
          </template>
          å‘¼å™œçŒª
          <template #description>ä¸Šçº¿æ‰“æ¸¸æˆäº†ï¼</template>
          <template #extra>
            <view class="demo-time">10:22</view>
            <view class="demo-badge">9</view>
          </template>
        </YCell>
        <YCell>
          <template #icon>
            <view class="demo-avatar">
              <img src="https://via.placeholder.com/40x40/4ecdc4/ffffff?text=è…¾" alt="å¤´åƒ" />
            </view>
          </template>
          è…¾è®¯é‡‘èVIPäº¤æµ3ç¾¤
          <template #description>[åˆ†äº«]æˆ‘å¾ˆçœ‹å¥½çš„è¿™æ¬¾é‡‘èäº§å“ï¼Œæ¨èç»™...</template>
          <template #extra>
            <view class="demo-time">09:08</view>
            <view class="demo-badge secondary">2</view>
          </template>
        </YCell>
      </div>
    </div>

    <!-- ç¦ç”¨çŠ¶æ€ -->
    <div class="demo-section">
      <div class="section-title">ç¦ç”¨çŠ¶æ€</div>
      <div class="y-component-display-group">
        <YCell arrow disabled>
          <template #icon>
            <view class="demo-icon" style="background-color: #ddd">ğŸ”’</view>
          </template>
          ç¦ç”¨çš„å•å…ƒæ ¼
          <template #description>æ­¤åŠŸèƒ½æš‚ä¸å¯ç”¨</template>
        </YCell>
      </div>
    </div>

    <!-- éšè—åˆ†å‰²çº¿ -->
    <div class="demo-section">
      <div class="section-title">éšè—åˆ†å‰²çº¿</div>
      <div class="y-component-display-group">
        <YCell :unlined="true" arrow @click="handleCellClick">æ— åˆ†å‰²çº¿å•å…ƒæ ¼</YCell>
        <YCell :unlined="true" arrow @click="handleCellClick">å¦ä¸€ä¸ªæ— åˆ†å‰²çº¿</YCell>
      </div>
    </div>

    <!-- è‡ªå®šä¹‰æ ·å¼ -->
    <div class="demo-section">
      <div class="section-title">è‡ªå®šä¹‰æ ·å¼</div>
      <div class="y-component-display-group">
        <YCell arrow backgroundColor="#f0f8ff" line-color="#4ecdc4" :line-left="0" @click="handleCellClick">
          <template #icon>
            <view class="demo-icon" style="background-color: #4ecdc4">ğŸ¨</view>
          </template>
          è‡ªå®šä¹‰èƒŒæ™¯å’Œåˆ†å‰²çº¿
          <template #description>è“è‰²ä¸»é¢˜æ ·å¼</template>
        </YCell>
        <YCell arrow backgroundColor="#fff5f5" line-color="#ff6b6b" :line-left="0" @click="handleCellClick">
          <template #icon>
            <view class="demo-icon" style="background-color: #ff6b6b">â¤ï¸</view>
          </template>
          çº¢è‰²ä¸»é¢˜æ ·å¼
          <template #description>æ¸©æš–çš„çº¢è‰²è°ƒ</template>
        </YCell>
      </div>
    </div>

    <!-- ç‚¹å‡»äº‹ä»¶æ¼”ç¤º -->
    <div class="demo-section">
      <div class="section-title">ç‚¹å‡»äº‹ä»¶æ¼”ç¤º</div>
      <div class="y-component-display-group">
        <YCell :arrow="true" :index="1" @click="handleIndexClick"> ç‚¹å‡»æŸ¥çœ‹ç´¢å¼• (index: 1) </YCell>
        <YCell :arrow="true" :index="2" @click="handleIndexClick"> ç‚¹å‡»æŸ¥çœ‹ç´¢å¼• (index: 2) </YCell>
      </div>
    </div>

    <!-- ç‚¹å‡»åé¦ˆä¿¡æ¯ -->
    <div v-if="clickMessage" class="demo-section">
      <div class="section-title">ç‚¹å‡»åé¦ˆ</div>
      <div class="y-component-display-group">
        <view class="click-message">{{ clickMessage }}</view>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { useRouter } from 'vue-router'
import { YCell } from '@you-web/ui-core'
import type { YCellClickEvent } from '@you-web/ui-core'

const router = useRouter()
const clickMessage = ref('')

const goBack = () => {
  router.push('/')
}

const handleCellClick = (event: YCellClickEvent) => {
  clickMessage.value = `å•å…ƒæ ¼è¢«ç‚¹å‡»äº†ï¼ç´¢å¼•: ${event.index}`
  setTimeout(() => {
    clickMessage.value = ''
  }, 2000)
}

const handleIndexClick = (event: YCellClickEvent) => {
  clickMessage.value = `ç‚¹å‡»äº†ç´¢å¼•ä¸º ${event.index} çš„å•å…ƒæ ¼`
  setTimeout(() => {
    clickMessage.value = ''
  }, 3000)
}
</script>

<style lang="scss" scoped>
@import '../../styles/variables.scss';
@import '../../styles/common.scss';

.demo-page-container {
  padding: $spacing-xl; // 40rpx
  background-color: #f5f5f5;
  min-height: 100vh;
}

.y-component-display-group {
  display: flex;
  flex-direction: column;
  gap: 0;
  background-color: #fff;
  border-radius: 16rpx;
  overflow: hidden;
}

.click-message {
  padding: 24rpx;
  background-color: #e8f5e8;
  color: #2d8659;
  border-radius: 12rpx;
  text-align: center;
  font-size: 28rpx;
  border: 2rpx solid #a8d8a8;
}

// æ¼”ç¤ºæ ·å¼
.demo-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48rpx;
  height: 48rpx;
  border-radius: 12rpx;
  font-size: 24rpx;
  color: white;
  font-weight: 500;
}

.demo-avatar {
  width: 48rpx;
  height: 48rpx;
  border-radius: 50%;
  overflow: hidden;

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
}

.demo-time {
  font-size: 24rpx;
  color: #999;
  margin-right: 12rpx;
}

.demo-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 32rpx;
  height: 32rpx;
  padding: 0 8rpx;
  background-color: #ff4757;
  color: white;
  font-size: 20rpx;
  font-weight: 500;
  border-radius: 16rpx;

  &.secondary {
    background-color: #ddd;
    color: #666;
  }
}
</style>
